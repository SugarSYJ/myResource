<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>利用后端代理实现百度搜索建议</title>
    <script>
        document.addEventListener('DOMContentLoaded',function(){
            var keyword = document.querySelector('#keyword');
            var suggest = document.querySelector('#suggest');
            window.getData = function(data){
                // console.log(data);
                suggest.innerHTML = data.s.map(item=>{
                    return `<li>${item}</li>`
                }).join('');
                document.body.removeChild(script);
                suggest.style.display = 'block';
            }
            var script;
            keyword.oninput = function(){
                _keyword = keyword.value;
                script = document.createElement('script');
                script.src = "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?json=1&cb=getData&wd=" + _keyword;
                document.body.appendChild(script);
            }
        })
    </script>
</head>
<body>
    <h1>利用后端代理实现百度搜索建议</h1>
    <input type="text" id="keyword" list="suggest">
    <datalist id="suggest"></datalist>
</body>
</html>