<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style type="text/css">
            ul,li{padding: 0;margin: 0;list-style:none;}
            .box{width: 600px;margin: 20px auto;}
            .box li{border-bottom: 1px solid #ddd;padding: 10px;margin: 10px 0;}
            .box textarea{display:block;width: 100%;height: 60px;}
        </style>
    </head>
    <body>
        <div class="box">
            <h3>过滤不文明用语</h3>
            <ul id="msglist"></ul>
            <textarea id="msg"></textarea>
            <button id="btn">提交</button>
        </div>
        
        <script type="text/javascript">
            var msglist = document.getElementById('msglist');
            var msg = document.getElementById('msg');
            var btn = document.getElementById('btn');
            var content = [];
            var arrMG = ['你妹','妈蛋','fuck','傻逼','金三胖'];
            btn.onclick = function(){
                var _msg = msg.value;
                arrMG.forEach(function(item){
                    // _msg = _msg.replace(item,'***');
                    var res = new RegExp(item,'gi');
                    _msg = _msg.replace(res,'***');
                });
                content.push(_msg);
                render();
                msg.value = '';
                msg.focus();
            }
            function render(){
                msglist.innerHTML = content.map(function(item){
                    return '<li>' + item + '</li>';
                }).join('');
            }
        </script>
    </body>
</html>